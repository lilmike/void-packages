# Template file for 'shc'
pkgname=shc
version=4.0.3
revision=1
build_style=gnu-configure
checkdepends="tcsh rc ksh zsh"
short_desc="Converts shell script to C source code, and then compiles it"
maintainer="Michael Taboada <voidpkgs@forwardme.email>"
license="GPL-3.0-or-later"
homepage="https://github.com/neurobin/shc"
distfiles="${homepage}/archive/${version}.tar.gz"
checksum="7d7fa6a9f5f53d607ab851d739ae3d3b99ca86e2cb1425a6cab9299f673aee16"

pre_check() {
	# Remove ash from the list of shells because it's not a package on void.
	vsed -i "$wrksrc/test/ttest.sh" -e "s;'/bin/ash';;g"
	# Also remove dash, since installing it as a host dependency conflicts with chroot-bash
	vsed -i "$wrksrc/test/ttest.sh" -e "s;'/bin/dash';;g"
}
